<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple ML</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Simple ML</h1>

        <!-- Step 1: File upload for training data -->
        <div class="step">
            <h3>Step 1: Load Training Data</h3>
            <label for="train-file-input" class="neon-button">Load Training CSV</label>
            <input type="file" id="train-file-input" accept=".csv" style="display: none;">
            <span id="train-file-name"></span>
        </div>

        <!-- Step 2: Dynamic section for column preview and selection -->
        <div class="step" id="column-selection-step" style="display:none;">
            <h3>Step 2: Preview Data, Select Target & Columns to Drop</h3>
            <h4>Training Data Preview (First 5 Rows):</h4>
            <div id="df-head-preview" class="dataframe-preview-container"></div>
            <h4>Select Columns:</h4>
            <div id="column-selector-container"></div>
        </div>
        
        <!-- Step 3: Select problem type and test data upload -->
        <div class="step" id="problem-type-step" style="display:none;">
            <h3>Step 3: Define Problem & Load Test Data</h3>
            <div>
                <label class="input-group-label">Problem Type:</label>
                <input type="radio" id="classification" name="problem-type" value="classification" checked>
                <label for="classification">Classification</label>
                <input type="radio" id="regression" name="problem-type" value="regression">
                <label for="regression">Regression</label>
            </div>
            <div>
                <label for="test-file-input" class="neon-button">Load Test CSV</label>
                <input type="file" id="test-file-input" accept=".csv" style="display: none;">
                <span id="test-file-name"></span>
            </div>
        </div>

        <!-- Button to trigger backend processing -->
        <div class="step">
            <button id="run-models" class="neon-button" style="display:none;">Run Analysis</button>
        </div>
        
        <!-- Loading indicator shown during backend processing -->
        <div id="loading-indicator" style="display:none;">Processing... Please wait.</div>
        
        <!-- Summary results section (metrics table) -->
        <div id="summary-table-area" class="summary-results-container" style="display:none;"></div>
        <hr class="divider summary-divider" style="display:none;">

        <!-- Plots like correlation matrix -->
        <div id="general-plots-area" class="plots-container"></div>
        <hr class="divider results-divider" style="display:none;">
        
        <!-- Model results with metrics and prediction plots -->
        <div id="results-area"></div>
    </div>

    <!-- Main script with logic for UI behavior and server communication -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
